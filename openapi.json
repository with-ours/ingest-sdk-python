{"info":{"title":"Ours","version":"1.0.0","description":"The Ours Server-Side REST API"},"openapi":"3.0.0","servers":[{"url":"https://api.oursprivacy.com/api/v1"}],"components":{"schemas":{},"parameters":{}},"paths":{"/track":{"post":{"description":"Track events from your server and native apps. We recommend our web client-side SDKs for most use-cases. But, if you need to track events from a server, use this endpoint. Please include at least one of: userId, externalId, or email. We will use the provided information to create or associate the event with a user.","operationId":"track","tags":["OursPrivacy"],"servers":[{"url":"https://api.oursprivacy.com/api/v1"}],"summary":"Track Events","requestBody":{"description":"The payload to track an event","required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"event":{"type":"string","minLength":1,"maxLength":1000,"description":"The name of the event you're tracking. This must be whitelisted in the Ours dashboard."},"token":{"type":"string","minLength":1,"maxLength":250,"description":"The token for your Ours Privacy Source. You can find this in the Ours dashboard."},"userId":{"type":"string","nullable":true,"minLength":1,"maxLength":400,"description":"The Ours user id stored in local storage and cookies on your web properties. If userId is included in the request, we do not lookup the user by email or externalId."},"externalId":{"type":"string","nullable":true,"minLength":1,"maxLength":400,"description":"The externalId (the ID in your system) of a user. We will associate this event with the user or create a user. If included in the request, email lookup is ignored."},"email":{"type":"string","nullable":true,"minLength":1,"maxLength":1000,"description":"The email address of a user. We will associate this event with the user or create a user. Used for lookup if externalId and userId are not included in the request."},"eventProperties":{"type":"object","nullable":true,"additionalProperties":{"nullable":true},"description":"Any additional event properties you want to pass along."},"userProperties":{"type":"object","nullable":true,"properties":{"email":{"type":"string","nullable":true,"maxLength":2000},"first_name":{"type":"string","nullable":true,"maxLength":2000},"last_name":{"type":"string","nullable":true,"maxLength":2000},"gender":{"type":"string","nullable":true,"maxLength":2000},"date_of_birth":{"type":"string","nullable":true,"maxLength":2000},"phone_number":{"nullable":true},"city":{"type":"string","nullable":true,"maxLength":2000},"state":{"type":"string","nullable":true,"maxLength":2000},"zip":{"nullable":true},"country":{"type":"string","nullable":true,"maxLength":2000},"external_id":{"type":"string","nullable":true,"maxLength":2000},"company_name":{"type":"string","nullable":true,"maxLength":2000},"job_title":{"type":"string","nullable":true,"maxLength":2000},"ip":{"type":"string","nullable":true,"maxLength":2000,"description":"The IP address of the user"}},"description":"Additional user properties you want to pass along to the destinations. (optional) You can also update these properties via the identify endpoint."},"defaultProperties":{"type":"object","nullable":true,"properties":{"is_bot":{"type":"boolean","nullable":true},"ad_id":{"type":"string","nullable":true,"maxLength":2000},"encoding":{"type":"string","nullable":true,"maxLength":2000,"description":"The character encoding of the page. Ex: UTF-8"},"browser_name":{"type":"string","nullable":true,"maxLength":2000},"browser_version":{"type":"string","nullable":true,"maxLength":2000},"cpu_architecture":{"type":"string","nullable":true,"maxLength":2000},"device_type":{"type":"string","nullable":true,"maxLength":2000,"description":"\"mobile\" | \"tablet\" | \"console\" | \"smarttv\" | \"wearable\" | \"xr\" | \"embedded\""},"device_model":{"type":"string","nullable":true,"maxLength":2000},"device_vendor":{"type":"string","nullable":true,"maxLength":2000},"engine_name":{"type":"string","nullable":true,"maxLength":2000},"engine_version":{"type":"string","nullable":true,"maxLength":2000},"os_name":{"type":"string","nullable":true,"maxLength":2000},"os_version":{"type":"string","nullable":true,"maxLength":2000},"browser_language":{"type":"string","nullable":true,"maxLength":2000},"current_url":{"type":"string","nullable":true,"maxLength":3000,"description":"The full url (including query params) of the current page"},"webview":{"type":"boolean","nullable":true},"iframe":{"type":"boolean","nullable":true},"sessionCount":{"type":"number","nullable":true},"activeDuration":{"type":"number","nullable":true,"description":"The active time in milliseconds that the user had this tab active"},"duration":{"type":"number","nullable":true,"description":"The time in milliseconds since the page was loaded // script was loaded"},"epik":{"type":"string","nullable":true,"maxLength":2000},"sacid":{"type":"string","nullable":true,"maxLength":2000},"fbc":{"type":"string","nullable":true,"maxLength":2000},"fbclid":{"type":"string","nullable":true,"maxLength":2000},"fbclid_creation_time":{"type":"number","nullable":true},"fbp":{"type":"string","nullable":true,"maxLength":2000},"gad_source":{"type":"string","nullable":true,"maxLength":2000},"gbraid":{"type":"string","nullable":true,"maxLength":2000},"gc_id":{"type":"string","nullable":true,"maxLength":2000},"gclid":{"type":"string","nullable":true,"maxLength":2000},"rdt_cid":{"type":"string","nullable":true,"maxLength":2000},"host":{"type":"string","nullable":true,"maxLength":2000},"ip":{"type":"string","nullable":true,"maxLength":2000},"msclkid":{"type":"string","nullable":true,"maxLength":2000,"description":"The MSCLKID that led to the conversion (see below for click ID information). The MSCLKID is a GUID (32 characters) that is unique for each ad click"},"li_fat_id":{"type":"string","nullable":true,"maxLength":2000,"description":"The LinkedIn Fat ID that led to the conversion (see below for click ID information). The Fat ID is a GUID (32 characters) that is unique for each ad click"},"pathname":{"type":"string","nullable":true,"maxLength":2000},"referrer":{"type":"string","nullable":true,"maxLength":3500,"description":"The referrer URL of the current page"},"screen_height":{"type":"number","nullable":true},"screen_width":{"type":"number","nullable":true},"title":{"type":"string","nullable":true,"maxLength":2000},"user_agent":{"type":"string","nullable":true},"user_agent_full_list":{"type":"string","nullable":true,"maxLength":2000},"utm_campaign":{"type":"string","nullable":true,"maxLength":2000},"utm_content":{"type":"string","nullable":true,"maxLength":2000},"utm_medium":{"type":"string","nullable":true,"maxLength":2000},"utm_name":{"type":"string","nullable":true,"maxLength":2000},"ttclid":{"type":"string","nullable":true,"maxLength":2000},"utm_source":{"type":"string","nullable":true,"maxLength":2000},"utm_term":{"type":"string","nullable":true,"maxLength":2000},"version":{"type":"string","nullable":true,"maxLength":2000},"wbraid":{"type":"string","nullable":true,"maxLength":2000,"description":"?wbraid=1"}},"description":"These properties are used throughout the Ours app to pass known values onto destinations"},"distinctId":{"type":"string","nullable":true,"minLength":1,"maxLength":400,"description":"A unique identifier for the event. This helps prevent duplicate events."}},"required":["event","token"]}}}},"responses":{"200":{"description":"Success - your event was sent to our servers","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[true]}},"required":["success"]}}}},"400":{"description":"Bad Request - Something about the body of your request is invalid. Please update your payload and try again.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[false]}},"required":["success"]}}}},"401":{"description":"Unauthorized - you are not authorized to send events to Ours. Please contact support.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[false]}},"required":["success"]}}}},"429":{"description":"Too Many Requests - We recommend starting with a backoff of 2s and doubling backoff until 60s, with 1-5s of jitter.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[false]}},"required":["success"]}}}},"500":{"description":"Internal Server Error - in the unlikely event that you see this error, please backoff as described for a 429 response.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[false]}},"required":["success"]}}}}}}},"/identify":{"post":{"description":"Add user properties to an existing user's profile.","operationId":"identify","tags":["OursPrivacy"],"servers":[{"url":"https://api.oursprivacy.com/api/v1"}],"summary":"Identify Users","requestBody":{"description":"The payload to identify a user","required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string","minLength":1,"maxLength":250,"description":"The token for your Ours Privacy Source. You can find this in the Ours dashboard."},"userId":{"type":"string","minLength":1,"maxLength":400,"description":"The Ours user id stored in local storage and cookies on your web properties. If userId is included in the request, we do not lookup the user by email or externalId."},"userProperties":{"type":"object","properties":{"email":{"type":"string","nullable":true,"maxLength":2000},"first_name":{"type":"string","nullable":true,"maxLength":2000},"last_name":{"type":"string","nullable":true,"maxLength":2000},"gender":{"type":"string","nullable":true,"maxLength":2000},"date_of_birth":{"type":"string","nullable":true,"maxLength":2000},"phone_number":{"nullable":true},"city":{"type":"string","nullable":true,"maxLength":2000},"state":{"type":"string","nullable":true,"maxLength":2000},"zip":{"nullable":true},"country":{"type":"string","nullable":true,"maxLength":2000},"external_id":{"type":"string","nullable":true,"maxLength":2000},"company_name":{"type":"string","nullable":true,"maxLength":2000},"job_title":{"type":"string","nullable":true,"maxLength":2000},"ip":{"type":"string","nullable":true,"maxLength":2000,"description":"The IP address of the user"}},"description":"User properties to associate with this user. The existing user properties will be updated. And all future events will have these properties associated with them."},"defaultProperties":{"type":"object","nullable":true,"properties":{"is_bot":{"type":"boolean","nullable":true},"ad_id":{"type":"string","nullable":true,"maxLength":2000},"encoding":{"type":"string","nullable":true,"maxLength":2000,"description":"The character encoding of the page. Ex: UTF-8"},"browser_name":{"type":"string","nullable":true,"maxLength":2000},"browser_version":{"type":"string","nullable":true,"maxLength":2000},"cpu_architecture":{"type":"string","nullable":true,"maxLength":2000},"device_type":{"type":"string","nullable":true,"maxLength":2000,"description":"\"mobile\" | \"tablet\" | \"console\" | \"smarttv\" | \"wearable\" | \"xr\" | \"embedded\""},"device_model":{"type":"string","nullable":true,"maxLength":2000},"device_vendor":{"type":"string","nullable":true,"maxLength":2000},"engine_name":{"type":"string","nullable":true,"maxLength":2000},"engine_version":{"type":"string","nullable":true,"maxLength":2000},"os_name":{"type":"string","nullable":true,"maxLength":2000},"os_version":{"type":"string","nullable":true,"maxLength":2000},"browser_language":{"type":"string","nullable":true,"maxLength":2000},"current_url":{"type":"string","nullable":true,"maxLength":3000,"description":"The full url (including query params) of the current page"},"webview":{"type":"boolean","nullable":true},"iframe":{"type":"boolean","nullable":true},"sessionCount":{"type":"number","nullable":true},"activeDuration":{"type":"number","nullable":true,"description":"The active time in milliseconds that the user had this tab active"},"duration":{"type":"number","nullable":true,"description":"The time in milliseconds since the page was loaded // script was loaded"},"epik":{"type":"string","nullable":true,"maxLength":2000},"sacid":{"type":"string","nullable":true,"maxLength":2000},"fbc":{"type":"string","nullable":true,"maxLength":2000},"fbclid":{"type":"string","nullable":true,"maxLength":2000},"fbclid_creation_time":{"type":"number","nullable":true},"fbp":{"type":"string","nullable":true,"maxLength":2000},"gad_source":{"type":"string","nullable":true,"maxLength":2000},"gbraid":{"type":"string","nullable":true,"maxLength":2000},"gc_id":{"type":"string","nullable":true,"maxLength":2000},"gclid":{"type":"string","nullable":true,"maxLength":2000},"rdt_cid":{"type":"string","nullable":true,"maxLength":2000},"host":{"type":"string","nullable":true,"maxLength":2000},"ip":{"type":"string","nullable":true,"maxLength":2000},"msclkid":{"type":"string","nullable":true,"maxLength":2000,"description":"The MSCLKID that led to the conversion (see below for click ID information). The MSCLKID is a GUID (32 characters) that is unique for each ad click"},"li_fat_id":{"type":"string","nullable":true,"maxLength":2000,"description":"The LinkedIn Fat ID that led to the conversion (see below for click ID information). The Fat ID is a GUID (32 characters) that is unique for each ad click"},"pathname":{"type":"string","nullable":true,"maxLength":2000},"referrer":{"type":"string","nullable":true,"maxLength":3500,"description":"The referrer URL of the current page"},"screen_height":{"type":"number","nullable":true},"screen_width":{"type":"number","nullable":true},"title":{"type":"string","nullable":true,"maxLength":2000},"user_agent":{"type":"string","nullable":true},"user_agent_full_list":{"type":"string","nullable":true,"maxLength":2000},"utm_campaign":{"type":"string","nullable":true,"maxLength":2000},"utm_content":{"type":"string","nullable":true,"maxLength":2000},"utm_medium":{"type":"string","nullable":true,"maxLength":2000},"utm_name":{"type":"string","nullable":true,"maxLength":2000},"ttclid":{"type":"string","nullable":true,"maxLength":2000},"utm_source":{"type":"string","nullable":true,"maxLength":2000},"utm_term":{"type":"string","nullable":true,"maxLength":2000},"version":{"type":"string","nullable":true,"maxLength":2000},"wbraid":{"type":"string","nullable":true,"maxLength":2000,"description":"?wbraid=1"}},"description":"These properties are used throughout the Ours app to pass known values onto destinations"}},"required":["token","userId","userProperties"]}}}},"responses":{"200":{"description":"Success - your event was sent to our servers","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[true]}},"required":["success"]}}}},"400":{"description":"Bad Request - Something about the body of your request is invalid. Please update your payload and try again.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[false]}},"required":["success"]}}}},"401":{"description":"Unauthorized - you are not authorized to send events to Ours. Please contact support.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[false]}},"required":["success"]}}}},"429":{"description":"Too Many Requests - We recommend starting with a backoff of 2s and doubling backoff until 60s, with 1-5s of jitter.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[false]}},"required":["success"]}}}},"500":{"description":"Internal Server Error - in the unlikely event that you see this error, please backoff as described for a 429 response.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[false]}},"required":["success"]}}}}}}}}}